<!DOCTYPE html>
<html>
    <head>
        <title>文字列繰り返し</title>
        <meta charset="utf-8">
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Kiwi+Maru:wght@300&display=swap" rel="stylesheet">
    </head>
    <body style="background-color: rgba(30, 221, 205, 0.308);height:100vh">
        <div style="margin: 10px;">
            <h1>
                文字列を繰り返す
            </h1>
            <div style="margin: 10px;">
                <p>
                    繰り返す回数を入力してください
                </p>
                <input type="number" id="inputnum" value="100">
                <p>
                    繰り返す文字列を入力してください
                </p>
                <input type="text" id="inputform" value="こんにちは"><br>
                <input type="button" onclick="sta()" value="Start"><br>
                <input type="button" onclick="copy()" value="コピー">
                <input type="button" onclick="cl()" value="クリア">
                <textarea id="outputform" style="width: 100%;height: calc(100vh - 300px);"></textarea>
            </div>
        </div>
    </body>
    <script>
        function sta() {
            inputst = document.getElementById("inputform").value;
            inputint = document.getElementById("inputnum").value;
            if(inputst==null||inputst==""){return};
            if(inputint==null||inputint<0){return};
            if(inputint>50000){
                if(confirm("繰り返す回数が大きすぎます。\n実行するとフリーズする可能性があります。\n\n続けますか？")!=true){return}
            }
            outputst = "";
            for(i=0;i<inputint;i++) {
                outputst += inputst;
            }
            document.getElementById("outputform").value = outputst;
        }
        function cl() {
            document.getElementById("outputform").value = "";
        }
        
        function copy() {
            execCopy(document.getElementById("outputform").value)
        }
        function execCopy(string){
            var temp = document.createElement('div');

            temp.appendChild(document.createElement('pre')).textContent = string;

            var s = temp.style;
            s.position = 'fixed';
            s.left = '-100%';

            document.body.appendChild(temp);
            document.getSelection().selectAllChildren(temp);

            var result = document.execCommand('copy');

            document.body.removeChild(temp);
            return result;
        }
    </script>
    <style>
        body::-webkit-scrollbar {
        display: none;
      }
        * {
            margin: 2px;
            padding: 2px;
            font-family: 'Kiwi Maru', serif;
        }
    </style>
</html>
