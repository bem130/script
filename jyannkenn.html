<!DOCTYPE html>
<html>
<head>
	<title></title>
  <meta charset="utf-8">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=DotGothic16&display=swap" rel="stylesheet">
  <style type="text/css">
    body {
      margin: 0;
      padding: 0;
    }
  </style>
</head>
<body style="background: rgba(62, 80, 131, 0.076)">
  <!--<input type="button" value="リセット" onclick="logreset();location.href=location.href">-->
  <div style="max-width:1500px;margin: 0 auto;padding: 50px;"><div id="form"></div><br><input type="button" value="ダウンロード" onclick="logdl();"><br><br><div id="tookei"></div></div>
</body>
</html>
<script type="text/javascript">
jans = ["グー","チョキ","パー"];
if(localStorage.getItem("jyannkennslog_asc")==null){localStorage.setItem("jyannkennslog_asc",0)};
if(localStorage.getItem("jyannkennslog_bsc")==null){localStorage.setItem("jyannkennslog_bsc",0)};
if(localStorage.getItem("jyannkennslog_aisc")==null){localStorage.setItem("jyannkennslog_aisc",0)};
if(localStorage.getItem("jyannkennslog_logtime")==null){localStorage.setItem("jyannkennslog_logtime",0)};
asc = localStorage.getItem("jyannkennslog_asc");
bsc = localStorage.getItem("jyannkennslog_bsc");
aisc = localStorage.getItem("jyannkennslog_aisc");
ltime = Number(localStorage.getItem("jyannkennslog_logtime"));
  function djan() {
    return jans[Math.floor(Math.random()*jans.length)];
  }
  function vjan() {
    scpa = djan();
    scpb = djan();
    return `<table border='1' style="font-family: 'DotGothic16', sans-serif;font-size:26px;width:100%"><tr><td>ー勝敗ー</td><td>Aが出した手</td><td>Bが出した手</td></tr><tr><td>`+judjan(scpa,scpb)+"</td><td>"+scpa+"</td><td>"+scpb+"</td></tr><tr><td>あいこ</td><td>Aの勝数</td><td>Bの勝数</td></tr><tr><td>"+aisc+"</td><td>"+asc+"</td><td>"+bsc+"</td></tr><table>";
  }
  function judjan(plaa,plab) {
    if (plaa == "グー"){
      if (plab == "グー") {
        asc++;
        return "Aの勝ち"
      }
      if (plab == "チョキ") {
        aisc++;
        return "あいこ"
      }
      if (plab == "パー") {
        bsc++;
        return "Bの勝ち"
      }
    }
    if (plaa == "チョキ"){
      if (plab == "グー") {
        bsc++;
        return "Bの勝ち"
      }
      if (plab == "チョキ") {
        aisc++;
        return "あいこ"
      }
      if (plab == "パー") {
        asc++;
        return "Aの勝ち"
      }  
    }
    if (plaa == "パー"){
      if (plab == "グー") {
        asc++;
        return "Aの勝ち"
      }
      if (plab == "チョキ") {
        bsc++;
        return "Bの勝ち"
      }
      if (plab == "パー") {
        aisc++;
        return "あいこ"
      }
    }
  }
  function tookei(){
    e_time = new Date();
    dtime = e_time.getTime() - s_time.getTime();
    lstime = ltime+dtime;
    jsc = asc+bsc+aisc;
          return `<table border='1' style="font-family: 'DotGothic16', sans-serif;font-size:23px;width:100%">
            <tr><td>総数(回)</td><td>`+jsc+`</td></tr>
            <tr><td>経過時間(秒)</td><td>`+lstime/1000+`</td></tr>
            <tr><td>経過時間(分)</td><td>`+Math.floor([lstime/60000]*100)/100+`</td></tr>
            <tr><td>経過時間(時間)</td><td>`+Math.floor([lstime/3600000]*100)/100+`</td></tr>
            <tr><td>一時間当たり(回)</td><td>`+Math.floor([jsc/lstime]*36000000)/100+`</td></tr>
            <tr><td>一分当たり(回)</td><td>`+Math.floor([jsc/lstime]*6000000)/100+`</td></tr>
            <tr><td>一秒当たり(回)</td><td>`+Math.floor([jsc/lstime]*10000000)/10000+`</td></tr>
            <tr><td>Aの勝った割合(%)</td><td>`+Math.floor([asc/jsc]*1000000000)/10000000+`</td></tr>
            <tr><td>Bの勝った割合(%)</td><td>`+Math.floor([bsc/jsc]*1000000000)/10000000+`</td></tr>
            <tr><td>あいこの割合(%)</td><td>`+Math.floor([aisc/jsc]*1000000000)/10000000+`</td></tr>
            <table>`;
  }
  function logs() {
    e_time = new Date();
    dtime = e_time.getTime() - s_time.getTime();
    logtime = ltime+dtime;
    localStorage.setItem("jyannkennslog_asc",asc);
    localStorage.setItem("jyannkennslog_bsc",bsc);
    localStorage.setItem("jyannkennslog_aisc",aisc);
    localStorage.setItem("jyannkennslog_logtime",logtime);
  }
  function logreset() {
    localStorage.setItem("jyannkennslog_asc",0);
    localStorage.setItem("jyannkennslog_bsc",0);
    localStorage.setItem("jyannkennslog_aisc",0);
    localStorage.setItem("jyannkennslog_logtime",0);
  }
  function logdl(){
  dlogdata = `総数:`+[asc+bsc+aisc]+`\n経過時間:`+lstime+`\nAの勝数:`+asc+`\nBの勝数:`+bsc+`\nあいこ:`+aisc;
	let blob = new Blob([dlogdata],{type:"text/plan"});
	let link = document.createElement('a');
	link.href = URL.createObjectURL(blob);
	link.download = 'jyanken.txt';
	link.click();
	dllog = "";
}
  s_time = new Date();
setInterval("document.getElementById('form').innerHTML = vjan()",0);
setInterval("document.getElementById('tookei').innerHTML = tookei()",20000);
setInterval("logs()",10000);
document.getElementById('tookei').innerHTML = tookei();
</script>
<style>
  
  body::-webkit-scrollbar {
      display: none;
    }
</style>